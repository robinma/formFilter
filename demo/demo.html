<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>弹框</title>
	<script type="text/javascript" src="./lib/jquery-1.9.1.min.js"></script>
	<script type="text/javascript" src="../formFilter.js"></script>
</head>
<body>
	<ul node-type="form">
		<li>
			<lable class="d">name:</lable>
			<input type="text" name="name" ff-length="1,4,'请输入1-4个文字'">
			<span class="tip"></span>
		</li>
		<li>
			<lable class="d">password:</lable>
			<input type="text" name="password">
			<span class="tip"></span>
		</li>
		<li>
			<lable class="d">rePassword:</lable>
			<input type="text" name="repassword">
			<span class="tip"></span>
		</li>
		<li>
			<lable class="d">phoneNum:</lable>
			<input type="text" name="phone">
			<span class="tip"></span>
		</li>
		<li>
			<input type="submit" name="button">
		</li>
	</ul>

	<script type="text/javascript">
	var setStatus=function(err,txt,field){
		console.log(arguments)
		var tip=field.$el.parent('li').find('.tip');
		if(err){
			tip.text('');
		}else{
			tip.text(txt);
		}
	}
	var ffilter=formFilter('ul[node-type="form"]',{
		'input[name="name"]':{
			require:true,
			callback:setStatus
		},
		'input[name="password"]':{
			'ff-exp':[/^(?!\d+$)(?![a-zA-Z]+$)[a-zA-Z0-9]{6,}$/ig,'输入密码不正确'],
			require:true,
			callback:setStatus
		},
		'input[name="repassword"]':{
			'ff-exp':[/^(?!\d+$)(?![a-zA-Z]+$)[a-zA-Z0-9]{6,}$/ig,'输入密码不正确'],
			'ff-equal':['input[name="password"]','输入的内容不一致'],
			require:true,
			callback:setStatus
		},
		'input[name="phone"]':{
			require:true,
			'ff-exp':[/1{1}\d{2}\d{8}/ig,'输入数据错误'],
			'ff-remote':'',
			callback:setStatus		
		}
	});
	</script>
</body>
</html>